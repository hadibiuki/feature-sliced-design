<template>
  <div v-if="pending">Loading profile...</div>
  <div v-else-if="error">Failed to load profile ðŸ˜“</div>
  <div v-else>
    <img :src="user?.avatarUrl" />
    <h2>{{ user?.name }}</h2>
    <p>{{ user?.bio }}</p>
  </div>
</template>

<script setup lang="ts">
const { data: user, pending, error } = await useAsyncData('user', () => $fetch('/api/user'))
</script>
